---
import "../styles/main.css";
import "@code-hike/mdx/styles.css";
import "../styles/ch.css";
import type { MarkdownLayoutProps } from "astro";
type Props = MarkdownLayoutProps<{}>;
const props = Astro.props;
---

<html lang="en">
  <head>
    <title>Riku | Docs</title>
    <meta
      content="minimum-scale=1, initial-scale=1, width=device-width"
      name="viewport"
    />
    <meta content="#5865f2" name="theme-color" />
  </head>
  <body class="dark:bg-dark-800 bg-white">
    <script is:inline>
      function setTheme(prefersDarkMode, persistedColorPreference) {
        if (
          persistedColorPreference === "dark" ||
          (prefersDarkMode && persistedColorPreference !== "light")
        ) {
          document.documentElement.classList.toggle("dark", true);
        } else {
          document.documentElement.classList.toggle("dark", false);
        }
      }
      (() => {
        const prefersDarkMode =
          window.matchMedia &&
          window.matchMedia("(prefers-color-scheme: dark)").matches;
        const persistedColorPreference =
          localStorage.getItem("theme") || "auto";
        setTheme(prefersDarkMode, persistedColorPreference);
        const listener =
          window.matchMedia &&
          window
            .matchMedia("(prefers-color-scheme: dark)")
            .addEventListener("change", (ev) =>
              setTheme(ev.matches, persistedColorPreference)
            );
      })();
    </script>
    <slot />
  </body>
</html>
